---
format: html
engine: knitr
lightbox: true
webr:
  resources:
    - https://raw.githubusercontent.com/LizzieWadsworth/Level-4-R-course-book/refs/heads/main/Datasets/LocustSerotonin.csv
  packages:
    - ggplot2
    - dplyr
---

{{< include /_extensions/r-wasm/live/_knitr.qmd >}}

These next two activities are _optional_; they are slightly more advanced, so are there to challenge you if you're comfortable with Tasks 1-4. 

# Extension 1: Use filter to plot results for individual species

1.  Using the `filter()` function, extract the values of just one species of penguin and save these in a new dataframe.
2.  Repeat as in Task 4, but separate the distributions by Sex or FullClutch

::: {.callout-tip collapse="false" title="Example of generated graph"}
A histogram of of FlipperLength separated by species and Sex should look like this:

```{r}
#| echo: false
#| warning: false
library(ggplot2)
library(dplyr)
penguin_df <- read.csv("../Datasets/penguins.csv") 
adelie_penguin <- penguin_df %>% filter(CommonName == "Adelie penguin")
ggplot(adelie_penguin, aes(x = FlipperLength, fill = Sex)) +
  geom_histogram(binwidth=2.5)
```
:::

# Extension 2: Larger penguin dataset

If you finish all of the above and would like to challenge your skills, download the `Penguins_extension.csv` from the Canvas page.

This is the same dataset but with more columns:

| Column        | Data                                            |
|---------------|-------------------------------------------------|
| SampleNumber  | Unique number for every penguin                 |
| LatinName     | Species name, full Latin name                   |
| CommonName    | Common name for the penguin species             |
| Region        | Region of Antartica the penguin is in           |
| Island        | Island of Antartica the penguin's nest is in    |
| FullClutch    | Whether or not the penguin couple laid two eggs |
| EggDate       | Date at which the first egg was laid            |
| CulmenLength  | Length of the penguin's culmen in millimeters   |
| CulmenDepth   | Depth of the penguin's culmen in millimeters    |
| FlipperLength | Length of the penguin's flipper in millimeters  |
| BodyMass      | Mass of the penguin in grams                    |
| Sex           | Whether the penguin is male or female           |

: Penguins extension data columns and descriptions {.striped .hover}

::: {.callout-note collapse="false" title="Dealing with dates"}
One column of this dataset is dates. By default these will be treated as strings - as words with no set order.

This means that dates won't be plotted in order from oldest to newest, which is not very useful.

To convert our dates into a "Date" class - to tell R that these are dates - we can use the following code:

```{r}
#| eval: false

penguin_df$EggDate <- as.Date(penguin_df$EggDate, format = "%d/%m/%y")
```
:::

At this point, it's up to you what you want to do - explore the data! What can you find out? Are there any patterns emerging?